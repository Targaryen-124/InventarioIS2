<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="ReportesFactura" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" isSummaryWithPageHeaderAndFooter="true" uuid="83fcd444-5950-4635-91b4-46d818684a34">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="Title" fontName="Arial" fontSize="26" isBold="true" pdfFontName="Helvetica-Bold"/>
	<style name="SubTitle" forecolor="#666666" fontName="Arial" fontSize="18"/>
	<style name="Column header" forecolor="#666666" fontName="Arial" fontSize="12" isBold="true"/>
	<style name="Detail" fontName="Arial" fontSize="12"/>
	<parameter name="IdFactura" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
  ve.id AS factura_numero,
  c.identidad AS identidad_cliente,
  ve.subtotal,
  ve.impuesto,
  ve.descuento,
  ve.totalapagar,
  u.nombre AS nombre_cajero,
  vd.cantidad,
  p.descripcion AS producto_descripcion,
  vd.precio,
  (vd.cantidad * vd.precio) AS subtotal_producto
FROM ventasencabezado ve
JOIN ventasdetalle vd ON ve.id = vd.ventasencabezado_id
JOIN productos p ON vd.idproductoventa = p.idcodigos
JOIN usuarios u ON ve.usuarios_idusuarios = u.idusuarios
JOIN clientes c ON ve.clientes_id = c.id
WHERE ve.id = $P{IdFactura}]]>
	</queryString>
	<field name="factura_numero" class="java.lang.Integer"/>
	<field name="identidad_cliente" class="java.lang.String"/>
	<field name="subtotal" class="java.lang.Double">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="impuesto" class="java.lang.Double">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="descuento" class="java.lang.Double">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="totalapagar" class="java.lang.Double">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombre_cajero" class="java.lang.String"/>
	<field name="cantidad" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="producto_descripcion" class="java.lang.String"/>
	<field name="precio" class="java.lang.Double">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="subtotal_producto" class="java.lang.Double"/>
	<variable name="TotalSubtotal" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{subtotal_producto}]]></variableExpression>
	</variable>
	<variable name="SubtotalProductos" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{subtotal_producto}]]></variableExpression>
	</variable>
	<variable name="Impuesto" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$V{TotalSubtotal}*0.15]]></variableExpression>
	</variable>
	<variable name="TotalFinal" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$V{TotalSubtotal} + $F{impuesto}-$F{descuento}]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="76" splitType="Stretch">
			<staticText>
				<reportElement style="Title" x="136" y="29" width="263" height="33" uuid="7d0ba9bf-8128-4b68-83da-2c3d007e4642"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="24"/>
				</textElement>
				<text><![CDATA[Factura]]></text>
			</staticText>
			<staticText>
				<reportElement style="SubTitle" x="170" y="0" width="200" height="30" uuid="dd18f14e-a787-46f7-b21e-c3f39ea980a3"/>
				<textElement textAlignment="Center">
					<font size="15"/>
				</textElement>
				<text><![CDATA[Tecno´s]]></text>
			</staticText>
			<line>
				<reportElement positionType="FixRelativeToBottom" x="1" y="62" width="554" height="1" uuid="e995eca2-c5b8-4c58-8cdf-7ca1650dea38"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
			<line>
				<reportElement positionType="FixRelativeToBottom" x="1" y="28" width="555" height="1" uuid="225c9db3-a12c-4ab6-a05d-1b849fdc0d18"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
			<line>
				<reportElement positionType="FixRelativeToBottom" x="1" y="27" width="555" height="1" uuid="db4443fd-0e50-4c88-ba94-fd8cfd8c6a73"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
			<line>
				<reportElement positionType="FixRelativeToBottom" x="1" y="62" width="555" height="1" uuid="a60bf646-c1fa-46f4-ae12-01bb0421380b"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="105" splitType="Stretch">
			<textField>
				<reportElement style="Detail" x="424" y="2" width="73" height="17" uuid="cc8d161c-5430-4894-b4f8-466e2c903658"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{factura_numero}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Detail" x="50" y="38" width="99" height="18" uuid="96adee87-1828-4125-9e94-c88c3d50ab45"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{nombre_cajero}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="Column header" x="-4" y="2" width="87" height="20" uuid="5b04e35c-058b-4a20-9c82-860f117bcd16"/>
				<textElement textAlignment="Center"/>
				<text><![CDATA[ID de Cliente: ]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="381" y="1" width="66" height="18" uuid="0b9fc890-3453-40d3-8b20-094eeb6a6ae9"/>
				<textElement textAlignment="Center"/>
				<text><![CDATA[N° Factura: ]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="2" y="38" width="74" height="18" uuid="52ed2691-8c0d-4e21-a750-7b60a03b86c9"/>
				<textElement textAlignment="Justified"/>
				<text><![CDATA[Cajero: ]]></text>
			</staticText>
			<line>
				<reportElement positionType="FixRelativeToBottom" x="1" y="83" width="554" height="1" uuid="2c0e0ca6-2229-4a83-b93b-1bfdc76a8d18"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
			<textField>
				<reportElement x="70" y="2" width="100" height="20" uuid="1be6104f-cf23-4ad0-a7a8-26be4c0134ec"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{identidad_cliente}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="-5" y="85" width="100" height="20" uuid="22285fdf-0b59-4853-ad2b-21d189dc37ee"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Descripción]]></text>
			</staticText>
			<staticText>
				<reportElement x="136" y="85" width="100" height="20" uuid="63203e81-cc47-4886-9485-5b906b0ac52a"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Cantidad]]></text>
			</staticText>
			<staticText>
				<reportElement x="279" y="84" width="100" height="20" uuid="a661848c-1af2-448d-ac0d-e100a61c56b5"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Precio]]></text>
			</staticText>
			<staticText>
				<reportElement x="420" y="84" width="100" height="20" uuid="960c0748-8a74-4db7-a991-edd0dc72c272"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Total]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="25" splitType="Stretch">
			<textField pattern="#,##0.00">
				<reportElement style="Detail" x="292" y="4" width="87" height="20" uuid="14f491dd-dcde-4f38-a018-8d5398b33659"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{precio}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Detail" x="139" y="4" width="97" height="20" uuid="75fa45e4-0203-4621-ba7f-4d2dcbbe5503"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{cantidad}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement positionType="FixRelativeToBottom" x="0" y="0" width="554" height="1" uuid="fb1718f1-d1b2-48dc-b0a1-6aad77a6b1dd"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement style="SubTitle" x="279" y="4" width="32" height="20" uuid="59d08685-2bd4-4473-8168-f98881f8da9a"/>
				<textElement textAlignment="Center">
					<font size="12"/>
				</textElement>
				<text><![CDATA[L.]]></text>
			</staticText>
			<staticText>
				<reportElement style="SubTitle" x="427" y="5" width="33" height="20" uuid="66673a91-31f8-4442-b1fa-51c3e3f93d09"/>
				<textElement textAlignment="Center">
					<font size="12"/>
				</textElement>
				<text><![CDATA[L.]]></text>
			</staticText>
			<textField>
				<reportElement x="3" y="4" width="100" height="20" uuid="b7162d39-7569-478a-84b2-422d09641853"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{producto_descripcion}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="448" y="4" width="100" height="20" uuid="a7178a68-f737-4d3e-85ff-a6911c5f41d8"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{subtotal_producto}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="14" splitType="Stretch">
			<line>
				<reportElement positionType="FixRelativeToBottom" x="1" y="0" width="555" height="1" uuid="9db54651-cdce-4bff-b691-6b5df1b119b6"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
		</band>
	</columnFooter>
	<pageFooter>
		<band height="51" splitType="Stretch">
			<textField pattern="EEEEE dd MMMMM yyyy">
				<reportElement style="Column header" x="0" y="28" width="197" height="20" uuid="3ff6e502-1b75-4dbd-ad55-6566f7cfe707"/>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement style="SubTitle" x="176" y="16" width="200" height="22" uuid="e43cef5b-7b39-426c-a2dc-39166409f7f0"/>
				<textElement textAlignment="Center">
					<font size="16"/>
				</textElement>
				<text><![CDATA[¡Gracias por preferirnos!]]></text>
			</staticText>
		</band>
	</pageFooter>
	<summary>
		<band height="152">
			<staticText>
				<reportElement style="Column header" x="2" y="31" width="63" height="15" uuid="ff68aa85-454e-41f4-a92c-08d3a6960598"/>
				<textElement textAlignment="Center"/>
				<text><![CDATA[SubTotal: ]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="-4" y="62" width="105" height="15" uuid="10892e3a-e6ae-4e34-bcc6-ebafc8fe6e94"/>
				<textElement textAlignment="Center"/>
				<text><![CDATA[Impuesto (15%):]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="0" y="91" width="76" height="15" uuid="1ade9023-c31e-4cad-81a0-71d3457d7e89"/>
				<textElement textAlignment="Center"/>
				<text><![CDATA[Descuento:]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="-3" y="124" width="88" height="15" uuid="20dd71d0-0a2e-4df8-96c2-7ce6151f5856"/>
				<textElement textAlignment="Center"/>
				<text><![CDATA[Total a Pagar: ]]></text>
			</staticText>
			<staticText>
				<reportElement style="SubTitle" x="427" y="57" width="40" height="20" uuid="a26b291e-fcd4-472b-91bb-c2a56b181fb9"/>
				<textElement textAlignment="Center">
					<font size="12"/>
				</textElement>
				<text><![CDATA[L.]]></text>
			</staticText>
			<staticText>
				<reportElement style="SubTitle" x="427" y="86" width="40" height="20" uuid="dd7f2465-c32c-40f1-9c66-44cd17f6f078"/>
				<textElement textAlignment="Center">
					<font size="12"/>
				</textElement>
				<text><![CDATA[L.]]></text>
			</staticText>
			<staticText>
				<reportElement style="SubTitle" x="427" y="120" width="40" height="24" uuid="9d889345-95b6-4d60-8965-022163b8c09e"/>
				<textElement textAlignment="Center">
					<font size="12"/>
				</textElement>
				<text><![CDATA[L.]]></text>
			</staticText>
			<textField pattern="#,##0.00">
				<reportElement x="453" y="26" width="100" height="20" uuid="280cf148-553a-4968-b555-8bc22eac6129"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{TotalSubtotal}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement positionType="FixRelativeToBottom" x="3" y="9" width="554" height="1" uuid="1535a73a-e788-496d-8810-7659ac7a9f8e"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
			<line>
				<reportElement positionType="FixRelativeToBottom" x="4" y="114" width="554" height="1" uuid="52029408-574e-4352-8e8a-ccc1d36b0edf"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement style="SubTitle" x="427" y="26" width="40" height="20" uuid="a0deeb6a-809a-4e03-a440-21587a341f79"/>
				<textElement textAlignment="Center">
					<font size="12"/>
				</textElement>
				<text><![CDATA[L.]]></text>
			</staticText>
			<textField pattern="#,##0.00">
				<reportElement x="453" y="57" width="100" height="20" uuid="e5276f39-9b05-438c-9653-137b32cb894f"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{impuesto}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="453" y="86" width="100" height="20" uuid="4865b30f-6e7b-4933-b701-ea192569f258"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{descuento}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="453" y="120" width="100" height="24" uuid="9bfe8bed-5ade-436f-9306-cf876a7f510c"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{totalapagar}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
